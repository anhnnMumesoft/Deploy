{"ast":null,"code":"import _regeneratorRuntime from\"E:/TestDeploy/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _defineProperty from\"E:/TestDeploy/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"E:/TestDeploy/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"E:/TestDeploy/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/TestDeploy/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useEffect,useState}from'react';import{createNewTypeShipService,getDetailTypeShipByIdService,updateTypeShipService}from'../../../services/userService';import{toast}from'react-toastify';import{useParams}from\"react-router-dom\";import'react-toastify/dist/ReactToastify.css';import LoadingSpinner from'../../../component/Spinner/LoadingSpinner';import moment from'moment';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddTypeShip=function AddTypeShip(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isActionADD=_useState4[0],setisActionADD=_useState4[1];var _useParams=useParams(),id=_useParams.id;var _useState5=useState({type:'',price:''}),_useState6=_slicedToArray(_useState5,2),inputValues=_useState6[0],setInputValues=_useState6[1];useEffect(function(){if(id){var fetchDetailTypeShip=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var typeship,_objectSpread2;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setisActionADD(false);setIsLoading(true);// Start loading\n_context.next=4;return getDetailTypeShipByIdService(id);case 4:typeship=_context.sent;setIsLoading(false);// Set loading to false when all data is fetched\nif(typeship&&typeship.errCode===0){setInputValues(_objectSpread(_objectSpread({},inputValues),{},(_objectSpread2={},_defineProperty(_objectSpread2,\"type\",typeship.data.type),_defineProperty(_objectSpread2,\"price\",typeship.data.price),_objectSpread2)));}case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchDetailTypeShip(){return _ref.apply(this,arguments);};}();fetchDetailTypeShip();}},[]);var handleOnChange=function handleOnChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setInputValues(_objectSpread(_objectSpread({},inputValues),{},_defineProperty({},name,value)));};var handleSaveTypeShip=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res,_objectSpread4,_res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(isActionADD===true)){_context2.next=9;break;}setIsLoading(true);// Start loading\n_context2.next=4;return createNewTypeShipService({type:inputValues.type,price:inputValues.price});case 4:res=_context2.sent;setIsLoading(false);// Set loading to false when all data is fetched\nif(res&&res.errCode===0){toast.success(\"Thêm loại ship thành công\");setInputValues(_objectSpread(_objectSpread({},inputValues),{},(_objectSpread4={},_defineProperty(_objectSpread4,\"type\",''),_defineProperty(_objectSpread4,\"price\",''),_objectSpread4)));}else if(res&&res.errCode===2){toast.error(res.errMessage);}else toast.error(\"Thêm loại ship thất bại\");_context2.next=15;break;case 9:setIsLoading(true);// Start loading\n_context2.next=12;return updateTypeShipService({type:inputValues.type,price:inputValues.price,id:id});case 12:_res=_context2.sent;setIsLoading(false);// Set loading to false when all data is fetched\nif(_res&&_res.errCode===0){toast.success(\"Cập nhật loại ship thành công\");}else if(_res&&_res.errCode===2){toast.error(_res.errMessage);}else toast.error(\"Cập nhật loại ship thất bại\");case 15:case\"end\":return _context2.stop();}}},_callee2);}));return function handleSaveTypeShip(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid px-4\",children:[isLoading&&/*#__PURE__*/_jsx(LoadingSpinner,{}),/*#__PURE__*/_jsx(\"h1\",{className:\"mt-4\",children:\"Qu\\u1EA3n l\\xFD lo\\u1EA1i ship\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-table me-1\"}),isActionADD===true?'Thêm mới loại ship':'Cập nhật thông tin loại ship']}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputEmail4\",children:\"T\\xEAn lo\\u1EA1i ship\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inputValues.type,name:\"type\",onChange:function onChange(event){return handleOnChange(event);},className:\"form-control\",id:\"inputEmail4\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputPassword4\",children:\"Gi\\xE1 ti\\u1EC1n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inputValues.price,name:\"price\",onChange:function onChange(event){return handleOnChange(event);},className:\"form-control\",id:\"inputPassword4\"})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return handleSaveTypeShip();},className:\"btn btn-primary\",children:\"L\\u01B0u th\\xF4ng tin\"})]})})]})]});};export default AddTypeShip;","map":{"version":3,"names":["React","useEffect","useState","createNewTypeShipService","getDetailTypeShipByIdService","updateTypeShipService","toast","useParams","LoadingSpinner","moment","AddTypeShip","props","isLoading","setIsLoading","isActionADD","setisActionADD","id","type","price","inputValues","setInputValues","fetchDetailTypeShip","typeship","errCode","data","handleOnChange","event","target","name","value","handleSaveTypeShip","res","success","error","errMessage"],"sources":["E:/TestDeploy/front-end/src/container/System/TypeShip/AddTypeShip.js"],"sourcesContent":["import React from 'react';\r\nimport { useEffect, useState } from 'react';\r\nimport { createNewTypeShipService, getDetailTypeShipByIdService, updateTypeShipService } from '../../../services/userService';\r\n\r\nimport { toast } from 'react-toastify';\r\nimport { useParams } from \"react-router-dom\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport LoadingSpinner from '../../../component/Spinner/LoadingSpinner';\r\nimport moment from 'moment';\r\nconst AddTypeShip = (props) => {\r\n\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const [isActionADD, setisActionADD] = useState(true)\r\n\r\n\r\n    const { id } = useParams();\r\n\r\n    const [inputValues, setInputValues] = useState({\r\n        type: '', price: ''\r\n    });\r\n    useEffect(() => {\r\n\r\n        if (id) {\r\n            let fetchDetailTypeShip = async () => {\r\n                setisActionADD(false)\r\n                setIsLoading(true); // Start loading\r\n                let typeship = await getDetailTypeShipByIdService(id)\r\n                setIsLoading(false); // Set loading to false when all data is fetched\r\n                if (typeship && typeship.errCode === 0) {\r\n                    setInputValues({ ...inputValues, [\"type\"]: typeship.data.type, [\"price\"]: typeship.data.price })\r\n                }\r\n            }\r\n            fetchDetailTypeShip()\r\n        }\r\n    }, [])\r\n\r\n    const handleOnChange = event => {\r\n        const { name, value } = event.target;\r\n        setInputValues({ ...inputValues, [name]: value });\r\n\r\n    };\r\n    let handleSaveTypeShip = async () => {\r\n        if (isActionADD === true) {\r\n            setIsLoading(true); // Start loading\r\n            let res = await createNewTypeShipService({\r\n                type: inputValues.type,\r\n                price: inputValues.price,\r\n            })\r\n            setIsLoading(false); // Set loading to false when all data is fetched\r\n            if (res && res.errCode === 0) {\r\n                toast.success(\"Thêm loại ship thành công\")\r\n                setInputValues({\r\n                    ...inputValues,\r\n                    [\"type\"]: '',\r\n                    [\"price\"]: ''\r\n                })\r\n            }\r\n            else if (res && res.errCode === 2) {\r\n                toast.error(res.errMessage)\r\n            }\r\n            else toast.error(\"Thêm loại ship thất bại\")\r\n        } else {\r\n            setIsLoading(true); // Start loading\r\n            let res = await updateTypeShipService({\r\n                type: inputValues.type,\r\n                price: inputValues.price,\r\n                id: id\r\n            })\r\n            setIsLoading(false); // Set loading to false when all data is fetched\r\n            if (res && res.errCode === 0) {\r\n                toast.success(\"Cập nhật loại ship thành công\")\r\n\r\n            }\r\n            else if (res && res.errCode === 2) {\r\n                toast.error(res.errMessage)\r\n            }\r\n            else toast.error(\"Cập nhật loại ship thất bại\")\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"container-fluid px-4\">\r\n                 {isLoading && <LoadingSpinner />}\r\n            <h1 className=\"mt-4\">Quản lý loại ship</h1>\r\n\r\n\r\n            <div className=\"card mb-4\">\r\n                <div className=\"card-header\">\r\n                    <i className=\"fas fa-table me-1\" />\r\n                    {isActionADD === true ? 'Thêm mới loại ship' : 'Cập nhật thông tin loại ship'}\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <form>\r\n                        <div className=\"form-row\">\r\n                            <div className=\"form-group col-md-6\">\r\n                                <label htmlFor=\"inputEmail4\">Tên loại ship</label>\r\n                                <input type=\"text\" value={inputValues.type} name=\"type\" onChange={(event) => handleOnChange(event)} className=\"form-control\" id=\"inputEmail4\" />\r\n                            </div>\r\n                            <div className=\"form-group col-md-6\">\r\n                                <label htmlFor=\"inputPassword4\">Giá tiền</label>\r\n                                <input type=\"text\" value={inputValues.price} name=\"price\" onChange={(event) => handleOnChange(event)} className=\"form-control\" id=\"inputPassword4\" />\r\n                            </div>\r\n                        </div>\r\n                        <button type=\"button\" onClick={() => handleSaveTypeShip()} className=\"btn btn-primary\">Lưu thông tin</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default AddTypeShip;"],"mappings":"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"},"metadata":{},"sourceType":"module"}