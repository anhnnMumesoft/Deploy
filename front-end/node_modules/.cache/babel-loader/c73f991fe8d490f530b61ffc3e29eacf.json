{"ast":null,"code":"import _slicedToArray from\"E:/TestDeploy/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useEffect,useState,useRef}from'react';import{Link,NavLink,useHistory}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{getItemCartStart}from'../../action/ShopCartAction';import{listRoomOfUser}from'../../services/userService';import'./Header.scss';import TopMenu from'./TopMenu';import socketIOClient from\"socket.io-client\";import{Spinner}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";require('dotenv').config();var Header=function Header(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),quantityMessage=_useState2[0],setquantityMessage=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var dispatch=useDispatch();var dataCart=useSelector(function(state){return state.shopcart.listCartItem;});var host=process.env.REACT_APP_BACKEND_URL;var socketRef=useRef();var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),id=_useState6[0],setId=_useState6[1];useEffect(function(){var userData=JSON.parse(localStorage.getItem('userData'));setUser(userData);if(userData){dispatch(getItemCartStart(userData.id));}},[]);var scrollHeader=function scrollHeader(){window.addEventListener(\"scroll\",function(){var header=document.querySelector(\".main_menu\");if(header){header.classList.toggle(\"sticky\",window.scrollY>0);}});};scrollHeader();return/*#__PURE__*/_jsxs(\"header\",{className:\"header_area\",children:[/*#__PURE__*/_jsx(TopMenu,{user:user&&user}),/*#__PURE__*/_jsx(\"div\",{className:\"main_menu\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar navbar-expand-lg navbar-light w-100\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"/\",className:\"navbar-brand logo_h\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/resources/img/logo.png\",alt:\"\"})}),/*#__PURE__*/_jsxs(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarSupportedContent\",\"aria-controls\":\"navbarSupportedContent\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon-bar\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon-bar\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon-bar\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse navbar-collapse offset w-100\",id:\"navbarSupportedContent\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row w-100 mr-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-9 pr-0\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"nav navbar-nav center_nav pull-right\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{exact:true,to:\"/\",className:\"nav-link\",activeClassName:\"selected\",activeStyle:{color:'#71cd14'},children:\"Trang ch\\u1EE7\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item \",children:/*#__PURE__*/_jsx(NavLink,{to:\"/shop\",className:\"nav-link\",activeClassName:\"selected\",activeStyle:{color:'#71cd14'},children:\"C\\u1EEDa h\\xE0ng\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item \",children:/*#__PURE__*/_jsx(NavLink,{to:\"/blog\",className:\"nav-link\",activeClassName:\"selected\",activeStyle:{color:'#71cd14'},children:\"Tin t\\u1EE9c\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/voucher\",className:\"nav-link\",activeClassName:\"selected\",activeStyle:{color:'#71cd14'},children:\"Gi\\u1EA3m gi\\xE1\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/about\",className:\"nav-link\",activeClassName:\"selected\",activeStyle:{color:'#71cd14'},children:\"Gi\\u1EDBi thi\\u1EC7u\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-3 pr-0\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"nav navbar-nav navbar-right right_nav pull-right\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item\",children:[/*#__PURE__*/_jsx(Link,{to:\"/user/messenger\",className:\"icons\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fa-brands fa-facebook-messenger\"})}),quantityMessage>0&&/*#__PURE__*/_jsx(\"span\",{className:\"box-message-quantity\",children:quantityMessage})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item\",children:[/*#__PURE__*/_jsx(Link,{to:\"/shopcart\",className:\"icons\",children:/*#__PURE__*/_jsx(\"i\",{className:\"ti-shopping-cart\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"box-quantity-cart\",children:dataCart&&dataCart.length})]}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/user/detail/\".concat(user&&user.id?user.id:''),className:\"icons\",children:/*#__PURE__*/_jsx(\"i\",{className:\"ti-user\",\"aria-hidden\":\"true\"})})})]})})]})})]})})})]});};export default Header;","map":{"version":3,"names":["React","useEffect","useState","useRef","Link","NavLink","useHistory","useSelector","useDispatch","getItemCartStart","listRoomOfUser","TopMenu","socketIOClient","Spinner","require","config","Header","props","quantityMessage","setquantityMessage","user","setUser","dispatch","dataCart","state","shopcart","listCartItem","host","process","env","REACT_APP_BACKEND_URL","socketRef","id","setId","userData","JSON","parse","localStorage","getItem","scrollHeader","window","addEventListener","header","document","querySelector","classList","toggle","scrollY","color","length"],"sources":["E:/TestDeploy/front-end/src/container/Header/Header.js"],"sourcesContent":["import React from 'react';\r\nimport { useEffect, useState,useRef } from 'react';\r\nimport { Link, NavLink, useHistory } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getItemCartStart } from '../../action/ShopCartAction'\r\nimport {listRoomOfUser} from '../../services/userService';\r\nimport './Header.scss';\r\nimport TopMenu from './TopMenu';\r\nimport socketIOClient from \"socket.io-client\";\r\nimport { Spinner } from 'react-bootstrap';\r\nrequire('dotenv').config();\r\nconst Header = props => {\r\n    const [quantityMessage, setquantityMessage] = useState('')\r\n    const [user, setUser] = useState({})\r\n    const dispatch = useDispatch()\r\n    let dataCart = useSelector(state => state.shopcart.listCartItem)\r\n    const host = process.env.REACT_APP_BACKEND_URL;\r\n    const socketRef = useRef();\r\n    const [id, setId] = useState();\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        const userData = JSON.parse(localStorage.getItem('userData'));\r\n        setUser(userData)\r\n        if (userData) {\r\n            dispatch(getItemCartStart(userData.id))\r\n        }\r\n       \r\n    }, [])\r\n    let scrollHeader = () => {\r\n        window.addEventListener(\"scroll\", function () {\r\n            var header = document.querySelector(\".main_menu\");\r\n            if (header) {\r\n                header.classList.toggle(\"sticky\", window.scrollY > 0)\r\n            }\r\n        })\r\n    }\r\n\r\n    scrollHeader()\r\n\r\n    return (\r\n\r\n        < header className=\"header_area\" >\r\n            <TopMenu user={user && user} />\r\n            <div className=\"main_menu\">\r\n                <div className=\"container\">\r\n                    <nav className=\"navbar navbar-expand-lg navbar-light w-100\">\r\n                        {/* Brand and toggle get grouped for better mobile display */}\r\n                        <NavLink to=\"/\" className=\"navbar-brand logo_h\">\r\n                            <img src=\"/resources/img/logo.png\" alt=\"\" />\r\n                        </NavLink>\r\n                        <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\"\r\n                            data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\"\r\n                            aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                            <span className=\"icon-bar\" />\r\n                            <span className=\"icon-bar\" />\r\n                            <span className=\"icon-bar\" />\r\n                        </button>\r\n                        {/* Collect the nav links, forms, and other content for toggling */}\r\n                        <div className=\"collapse navbar-collapse offset w-100\" id=\"navbarSupportedContent\">\r\n                            <div className=\"row w-100 mr-0\">\r\n                                <div className=\"col-lg-9 pr-0\">\r\n                                    <ul className=\"nav navbar-nav center_nav pull-right\">\r\n                                        <li className=\"nav-item\">\r\n                                            <NavLink exact to=\"/\" className=\"nav-link\"\r\n                                                activeClassName=\"selected\" activeStyle={{ color: '#71cd14' }}>\r\n                                                Trang chủ\r\n                                            </NavLink>\r\n                                        </li>\r\n                                        <li className=\"nav-item \">\r\n                                            <NavLink to=\"/shop\" className=\"nav-link\"\r\n                                                activeClassName=\"selected\" activeStyle={{ color: '#71cd14' }}>\r\n                                                Cửa hàng\r\n                                            </NavLink>\r\n                                        </li>\r\n                                        <li className=\"nav-item \">\r\n                                            <NavLink to=\"/blog\" className=\"nav-link\"\r\n                                                activeClassName=\"selected\" activeStyle={{ color: '#71cd14' }}>\r\n                                                Tin tức\r\n                                            </NavLink>\r\n                                        </li>\r\n                                        <li className=\"nav-item\">\r\n                                            <NavLink to=\"/voucher\" className=\"nav-link\"\r\n                                                activeClassName=\"selected\" activeStyle={{ color: '#71cd14' }}>\r\n                                                Giảm giá\r\n                                            </NavLink>\r\n                                        </li>\r\n                                        <li className=\"nav-item\">\r\n                                            <NavLink to=\"/about\" className=\"nav-link\" activeClassName=\"selected\" activeStyle={{ color: '#71cd14' }}>\r\n                                            Giới thiệu\r\n                                            </NavLink>\r\n                                        </li>\r\n                                    </ul>\r\n                                </div>\r\n                                <div className=\"col-lg-3 pr-0\">\r\n                                    <ul className=\"nav navbar-nav navbar-right right_nav pull-right\">\r\n                                        <li className=\"nav-item\">\r\n                                        <Link to={\"/user/messenger\"} className=\"icons\">\r\n                                            <i class=\"fa-brands fa-facebook-messenger\"></i>\r\n                                            </Link>\r\n                                            {quantityMessage>0 && \r\n                                             <span className=\"box-message-quantity\">{quantityMessage}</span>\r\n                                            }\r\n                                           \r\n                                        </li>\r\n                                        <li className=\"nav-item\">\r\n                                            <Link to={\"/shopcart\"} className=\"icons\">\r\n                                                <i className=\"ti-shopping-cart\" />\r\n\r\n                                            </Link>\r\n                                            <span className=\"box-quantity-cart\">{dataCart && dataCart.length}</span>\r\n                                        </li>\r\n                                        <li className=\"nav-item\">\r\n                                            <Link to={`/user/detail/${user && user.id ? user.id : ''}`} className=\"icons\">\r\n                                                <i className=\"ti-user\" aria-hidden=\"true\" />\r\n                                            </Link>\r\n                                        </li>\r\n\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </nav>\r\n                </div>\r\n            </div>\r\n\r\n        </header >\r\n\r\n\r\n    );\r\n};\r\n\r\nexport default Header;"],"mappings":"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"},"metadata":{},"sourceType":"module"}