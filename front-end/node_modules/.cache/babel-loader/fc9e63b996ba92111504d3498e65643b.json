{"ast":null,"code":"import axios from \"axios\";\nimport _ from \"lodash\";\n\nrequire(\"dotenv\").config();\n\nconst instance = axios.create({\n  baseURL: process.env.REACT_APP_BACKEND_URL //  withCredentials: true\n\n});\n\nif (localStorage.getItem(\"token\")) {\n  instance.interceptors.request.use(config => {\n    config.headers.authorization = \"Bearer \" + localStorage.getItem(\"token\").replaceAll('\"', \"\");\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n}\n\ninstance.interceptors.response.use(response => {\n  // Thrown error for request with OK status code\n  const {\n    data\n  } = response;\n  return response.data;\n});\nexport default instance;","map":{"version":3,"names":["axios","_","require","config","instance","create","baseURL","process","env","REACT_APP_BACKEND_URL","localStorage","getItem","interceptors","request","use","headers","authorization","replaceAll","error","Promise","reject","response","data"],"sources":["E:/SourceDoAn/ecomResource/ecomResource/eCommerce_Reactjs/src/axios.js"],"sourcesContent":["import axios from \"axios\";\r\nimport _ from \"lodash\";\r\nrequire(\"dotenv\").config();\r\n\r\nconst instance = axios.create({\r\n    baseURL: process.env.REACT_APP_BACKEND_URL,\r\n\r\n    //  withCredentials: true\r\n});\r\nif (localStorage.getItem(\"token\")) {\r\n    instance.interceptors.request.use(\r\n        (config) => {\r\n            config.headers.authorization =\r\n                \"Bearer \" + localStorage.getItem(\"token\").replaceAll('\"', \"\");\r\n\r\n            return config;\r\n        },\r\n        (error) => {\r\n            return Promise.reject(error);\r\n        }\r\n    );\r\n}\r\n\r\ninstance.interceptors.response.use((response) => {\r\n    // Thrown error for request with OK status code\r\n    const { data } = response;\r\n    return response.data;\r\n});\r\n\r\nexport default instance;\r\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,CAAP,MAAc,QAAd;;AACAC,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA,MAAMC,QAAQ,GAAGJ,KAAK,CAACK,MAAN,CAAa;EAC1BC,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,qBADK,CAG1B;;AAH0B,CAAb,CAAjB;;AAKA,IAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAJ,EAAmC;EAC/BP,QAAQ,CAACQ,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CACKX,MAAD,IAAY;IACRA,MAAM,CAACY,OAAP,CAAeC,aAAf,GACI,YAAYN,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BM,UAA9B,CAAyC,GAAzC,EAA8C,EAA9C,CADhB;IAGA,OAAOd,MAAP;EACH,CANL,EAOKe,KAAD,IAAW;IACP,OAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;EACH,CATL;AAWH;;AAEDd,QAAQ,CAACQ,YAAT,CAAsBS,QAAtB,CAA+BP,GAA/B,CAAoCO,QAAD,IAAc;EAC7C;EACA,MAAM;IAAEC;EAAF,IAAWD,QAAjB;EACA,OAAOA,QAAQ,CAACC,IAAhB;AACH,CAJD;AAMA,eAAelB,QAAf"},"metadata":{},"sourceType":"module"}