{"ast":null,"code":"import _regeneratorRuntime from\"E:/TestDeploy/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/TestDeploy/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/TestDeploy/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useFetchAllcode}from'../../container/customize/fetch';import{getAllCodeService}from'../../services/userService';import{Spinner}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Category(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),arrCategory=_useState4[0],setarrCategory=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),activeLinkId=_useState6[0],setactiveLinkId=_useState6[1];useEffect(function(){var fetchCategory=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var arrData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);// Start loading\n_context.next=3;return getAllCodeService('CATEGORY');case 3:arrData=_context.sent;if(arrData&&arrData.errCode===0){arrData.data.unshift({createdAt:null,code:'ALL',type:\"CATEGORY\",value:\"Tất cả\"});setarrCategory(arrData.data);}setIsLoading(false);// End loading\ncase 6:case\"end\":return _context.stop();}}},_callee);}));return function fetchCategory(){return _ref.apply(this,arguments);};}();fetchCategory();},[]);var handleClickCategory=function handleClickCategory(code){props.handleRecevieDataCategory(code);setactiveLinkId(code);};return/*#__PURE__*/_jsxs(\"aside\",{className:\"left_widgets p_filter_widgets\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"l_w_title\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"C\\xE1c danh m\\u1EE5c\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"widgets_inner\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"list\",children:arrCategory&&arrCategory.length>0&&arrCategory.map(function(item,index){return/*#__PURE__*/_jsx(\"li\",{className:item.code===activeLinkId?'active':'',style:{cursor:'pointer'},onClick:function onClick(){return handleClickCategory(item.code);},children:/*#__PURE__*/_jsx(\"a\",{children:item.value})},index);})})}),isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"loading-overlay\",children:/*#__PURE__*/_jsx(Spinner,{animation:\"border\",variant:\"primary\"})})]});}export default Category;","map":{"version":3,"names":["React","useState","useEffect","useFetchAllcode","getAllCodeService","Spinner","Category","props","isLoading","setIsLoading","arrCategory","setarrCategory","activeLinkId","setactiveLinkId","fetchCategory","arrData","errCode","data","unshift","createdAt","code","type","value","handleClickCategory","handleRecevieDataCategory","length","map","item","index","cursor"],"sources":["E:/TestDeploy/frontend/src/component/Shop/Category.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useFetchAllcode } from '../../container/customize/fetch';\r\nimport { getAllCodeService } from '../../services/userService';\r\nimport { Spinner } from 'react-bootstrap';\r\nfunction Category(props) {\r\n\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [arrCategory, setarrCategory] = useState([])\r\n    const [activeLinkId, setactiveLinkId] = useState('')\r\n\r\n    useEffect(() => {\r\n        let fetchCategory = async () => {\r\n            setIsLoading(true); // Start loading\r\n            let arrData = await getAllCodeService('CATEGORY')\r\n            if (arrData && arrData.errCode === 0) {\r\n                arrData.data.unshift({\r\n                    createdAt: null,\r\n                    code: 'ALL',\r\n                    type: \"CATEGORY\",\r\n                    value: \"Tất cả\",\r\n                })\r\n                setarrCategory(arrData.data)\r\n            }\r\n            setIsLoading(false); // End loading\r\n        }\r\n        fetchCategory()\r\n    }, [])\r\n    let handleClickCategory = (code) => {\r\n        props.handleRecevieDataCategory(code)\r\n        setactiveLinkId(code)\r\n    }\r\n\r\n    return (\r\n\r\n        <aside className=\"left_widgets p_filter_widgets\">\r\n            <div className=\"l_w_title\">\r\n                <h3>Các danh mục</h3>\r\n            </div>\r\n            <div className=\"widgets_inner\">\r\n                <ul className=\"list\">\r\n\r\n                    {arrCategory && arrCategory.length > 0 &&\r\n                        arrCategory.map((item, index) => {\r\n                            return (\r\n                                <li className={item.code === activeLinkId ? 'active' : ''} style={{ cursor: 'pointer' }} onClick={() => handleClickCategory(item.code)} key={index}>\r\n                                    <a>{item.value}</a>\r\n                                </li>\r\n                            )\r\n                        })\r\n                    }\r\n\r\n\r\n                </ul>\r\n            </div>\r\n            {isLoading && (\r\n            <div className=\"loading-overlay\">\r\n                <Spinner animation=\"border\" variant=\"primary\" />\r\n            </div>\r\n        )}\r\n        </aside>\r\n\r\n    );\r\n}\r\n\r\nexport default Category;"],"mappings":"oaAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,eAAT,KAAgC,iCAAhC,CACA,OAASC,iBAAT,KAAkC,4BAAlC,CACA,OAASC,OAAT,KAAwB,iBAAxB,C,wFACA,QAASC,SAAT,CAAkBC,KAAlB,CAAyB,CAErB,cAAkCN,QAAQ,CAAC,KAAD,CAA1C,wCAAOO,SAAP,eAAkBC,YAAlB,eACA,eAAsCR,QAAQ,CAAC,EAAD,CAA9C,yCAAOS,WAAP,eAAoBC,cAApB,eACA,eAAwCV,QAAQ,CAAC,EAAD,CAAhD,yCAAOW,YAAP,eAAqBC,eAArB,eAEAX,SAAS,CAAC,UAAM,CACZ,GAAIY,cAAa,0FAAG,+IAChBL,YAAY,CAAC,IAAD,CAAZ,CAAoB;AADJ,sBAEIL,kBAAiB,CAAC,UAAD,CAFrB,QAEZW,OAFY,eAGhB,GAAIA,OAAO,EAAIA,OAAO,CAACC,OAAR,GAAoB,CAAnC,CAAsC,CAClCD,OAAO,CAACE,IAAR,CAAaC,OAAb,CAAqB,CACjBC,SAAS,CAAE,IADM,CAEjBC,IAAI,CAAE,KAFW,CAGjBC,IAAI,CAAE,UAHW,CAIjBC,KAAK,CAAE,QAJU,CAArB,EAMAX,cAAc,CAACI,OAAO,CAACE,IAAT,CAAd,CACH,CACDR,YAAY,CAAC,KAAD,CAAZ,CAAqB;AAZL,sDAAH,kBAAbK,cAAa,0CAAjB,CAcAA,aAAa,GAChB,CAhBQ,CAgBN,EAhBM,CAAT,CAiBA,GAAIS,oBAAmB,CAAG,QAAtBA,oBAAsB,CAACH,IAAD,CAAU,CAChCb,KAAK,CAACiB,yBAAN,CAAgCJ,IAAhC,EACAP,eAAe,CAACO,IAAD,CAAf,CACH,CAHD,CAKA,mBAEI,eAAO,SAAS,CAAC,+BAAjB,wBACI,YAAK,SAAS,CAAC,WAAf,uBACI,4CADJ,EADJ,cAII,YAAK,SAAS,CAAC,eAAf,uBACI,WAAI,SAAS,CAAC,MAAd,UAEKV,WAAW,EAAIA,WAAW,CAACe,MAAZ,CAAqB,CAApC,EACGf,WAAW,CAACgB,GAAZ,CAAgB,SAACC,IAAD,CAAOC,KAAP,CAAiB,CAC7B,mBACI,WAAI,SAAS,CAAED,IAAI,CAACP,IAAL,GAAcR,YAAd,CAA6B,QAA7B,CAAwC,EAAvD,CAA2D,KAAK,CAAE,CAAEiB,MAAM,CAAE,SAAV,CAAlE,CAAyF,OAAO,CAAE,yBAAMN,oBAAmB,CAACI,IAAI,CAACP,IAAN,CAAzB,EAAlG,uBACI,mBAAIO,IAAI,CAACL,KAAT,EADJ,EAA6IM,KAA7I,CADJ,CAKH,CAND,CAHR,EADJ,EAJJ,CAoBKpB,SAAS,eACV,YAAK,SAAS,CAAC,iBAAf,uBACI,KAAC,OAAD,EAAS,SAAS,CAAC,QAAnB,CAA4B,OAAO,CAAC,SAApC,EADJ,EArBJ,GAFJ,CA8BH,CAED,cAAeF,SAAf"},"metadata":{},"sourceType":"module"}