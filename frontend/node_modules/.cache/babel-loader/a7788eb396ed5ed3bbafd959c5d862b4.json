{"ast":null,"code":"import _regeneratorRuntime from\"E:/TestDeploy/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/TestDeploy/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{SHOP_CART}from'../utils/constant';import{addShopCartService,getAllShopCartByUserIdService}from'../services/userService';import{toast}from'react-toastify';export var addItemCartStart=function addItemCartStart(data){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,getState){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return addShopCartService(data);case 3:res=_context.sent;if(res&&res.errCode===0){dispatch(getItemCartStart(data.userId));dispatch(addItemCartSuccess());}else{dispatch(addItemCartFaild());toast.error(res.errMessage);}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch(addItemCartFaild());case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export var addItemCartSuccess=function addItemCartSuccess(){return{type:SHOP_CART.ADD_ITEM_CART_SUCCESS};};export var addItemCartFaild=function addItemCartFaild(){return{type:SHOP_CART.ADD_ITEM_CART_FAILD};};export var getItemCartStart=function getItemCartStart(id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch,getState){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return getAllShopCartByUserIdService(id);case 3:res=_context2.sent;if(res&&res.errCode===0){dispatch(getItemCartSuccess(res.data));}else{dispatch(getItemCartFaild());}_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);dispatch(getItemCartFaild());case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}();};export var getItemCartSuccess=function getItemCartSuccess(data){return{type:SHOP_CART.GET_ITEM_CART_SUCCESS,data:data};};export var getItemCartFaild=function getItemCartFaild(){return{type:SHOP_CART.GET_ITEM_CART_FAILD};};export var ChooseVoucherStart=function ChooseVoucherStart(data){return{type:SHOP_CART.CHOOSE_VOUCHER_START,data:data};};export var ChooseTypeShipStart=function ChooseTypeShipStart(data){return{type:SHOP_CART.CHOOSE_TYPESHIP_START,data:data};};","map":{"version":3,"names":["SHOP_CART","addShopCartService","getAllShopCartByUserIdService","toast","addItemCartStart","data","dispatch","getState","res","errCode","getItemCartStart","userId","addItemCartSuccess","addItemCartFaild","error","errMessage","type","ADD_ITEM_CART_SUCCESS","ADD_ITEM_CART_FAILD","id","getItemCartSuccess","getItemCartFaild","GET_ITEM_CART_SUCCESS","GET_ITEM_CART_FAILD","ChooseVoucherStart","CHOOSE_VOUCHER_START","ChooseTypeShipStart","CHOOSE_TYPESHIP_START"],"sources":["E:/TestDeploy/frontend/src/action/ShopCartAction.js"],"sourcesContent":["import { SHOP_CART } from '../utils/constant';\r\nimport { addShopCartService, getAllShopCartByUserIdService } from '../services/userService';\r\nimport { toast } from 'react-toastify';\r\n\r\n\r\nexport const addItemCartStart = (data) => {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            let res = await addShopCartService(data);\r\n\r\n            if (res && res.errCode === 0) {\r\n\r\n                dispatch(getItemCartStart(data.userId))\r\n                dispatch(addItemCartSuccess())\r\n\r\n\r\n            } else {\r\n                dispatch(addItemCartFaild());\r\n                toast.error(res.errMessage)\r\n            }\r\n        } catch (error) {\r\n            dispatch(addItemCartFaild());\r\n\r\n        }\r\n    }\r\n}\r\n\r\nexport const addItemCartSuccess = () => {\r\n    return {\r\n        type: SHOP_CART.ADD_ITEM_CART_SUCCESS,\r\n    }\r\n}\r\nexport const addItemCartFaild = () => {\r\n    return {\r\n        type: SHOP_CART.ADD_ITEM_CART_FAILD,\r\n    }\r\n}\r\nexport const getItemCartStart = (id) => {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n            let res = await getAllShopCartByUserIdService(id);\r\n            if (res && res.errCode === 0) {\r\n                dispatch(getItemCartSuccess(res.data))\r\n\r\n            } else {\r\n                dispatch(getItemCartFaild());\r\n\r\n            }\r\n        } catch (error) {\r\n            dispatch(getItemCartFaild());\r\n\r\n        }\r\n    }\r\n}\r\nexport const getItemCartSuccess = (data) => {\r\n    return {\r\n        type: SHOP_CART.GET_ITEM_CART_SUCCESS,\r\n        data: data\r\n    }\r\n}\r\nexport const getItemCartFaild = () => {\r\n    return {\r\n        type: SHOP_CART.GET_ITEM_CART_FAILD,\r\n    }\r\n}\r\n\r\nexport const ChooseVoucherStart = (data) => {\r\n    return {\r\n        type: SHOP_CART.CHOOSE_VOUCHER_START,\r\n        data: data\r\n    }\r\n}\r\nexport const ChooseTypeShipStart = (data) => {\r\n    return {\r\n        type: SHOP_CART.CHOOSE_TYPESHIP_START,\r\n        data: data\r\n    }\r\n}"],"mappings":"uRAAA,OAASA,SAAT,KAA0B,mBAA1B,CACA,OAASC,kBAAT,CAA6BC,6BAA7B,KAAkE,yBAAlE,CACA,OAASC,KAAT,KAAsB,gBAAtB,CAGA,MAAO,IAAMC,iBAAgB,CAAG,QAAnBA,iBAAmB,CAACC,IAAD,CAAU,CACtC,+FAAO,iBAAOC,QAAP,CAAiBC,QAAjB,gKAEiBN,mBAAkB,CAACI,IAAD,CAFnC,QAEKG,GAFL,eAIC,GAAIA,GAAG,EAAIA,GAAG,CAACC,OAAJ,GAAgB,CAA3B,CAA8B,CAE1BH,QAAQ,CAACI,gBAAgB,CAACL,IAAI,CAACM,MAAN,CAAjB,CAAR,CACAL,QAAQ,CAACM,kBAAkB,EAAnB,CAAR,CAGH,CAND,IAMO,CACHN,QAAQ,CAACO,gBAAgB,EAAjB,CAAR,CACAV,KAAK,CAACW,KAAN,CAAYN,GAAG,CAACO,UAAhB,EACH,CAbF,+EAeCT,QAAQ,CAACO,gBAAgB,EAAjB,CAAR,CAfD,oEAAP,mEAmBH,CApBM,CAsBP,MAAO,IAAMD,mBAAkB,CAAG,QAArBA,mBAAqB,EAAM,CACpC,MAAO,CACHI,IAAI,CAAEhB,SAAS,CAACiB,qBADb,CAAP,CAGH,CAJM,CAKP,MAAO,IAAMJ,iBAAgB,CAAG,QAAnBA,iBAAmB,EAAM,CAClC,MAAO,CACHG,IAAI,CAAEhB,SAAS,CAACkB,mBADb,CAAP,CAGH,CAJM,CAKP,MAAO,IAAMR,iBAAgB,CAAG,QAAnBA,iBAAmB,CAACS,EAAD,CAAQ,CACpC,gGAAO,kBAAOb,QAAP,CAAiBC,QAAjB,sKAEiBL,8BAA6B,CAACiB,EAAD,CAF9C,QAEKX,GAFL,gBAGC,GAAIA,GAAG,EAAIA,GAAG,CAACC,OAAJ,GAAgB,CAA3B,CAA8B,CAC1BH,QAAQ,CAACc,kBAAkB,CAACZ,GAAG,CAACH,IAAL,CAAnB,CAAR,CAEH,CAHD,IAGO,CACHC,QAAQ,CAACe,gBAAgB,EAAjB,CAAR,CAEH,CATF,mFAWCf,QAAQ,CAACe,gBAAgB,EAAjB,CAAR,CAXD,sEAAP,qEAeH,CAhBM,CAiBP,MAAO,IAAMD,mBAAkB,CAAG,QAArBA,mBAAqB,CAACf,IAAD,CAAU,CACxC,MAAO,CACHW,IAAI,CAAEhB,SAAS,CAACsB,qBADb,CAEHjB,IAAI,CAAEA,IAFH,CAAP,CAIH,CALM,CAMP,MAAO,IAAMgB,iBAAgB,CAAG,QAAnBA,iBAAmB,EAAM,CAClC,MAAO,CACHL,IAAI,CAAEhB,SAAS,CAACuB,mBADb,CAAP,CAGH,CAJM,CAMP,MAAO,IAAMC,mBAAkB,CAAG,QAArBA,mBAAqB,CAACnB,IAAD,CAAU,CACxC,MAAO,CACHW,IAAI,CAAEhB,SAAS,CAACyB,oBADb,CAEHpB,IAAI,CAAEA,IAFH,CAAP,CAIH,CALM,CAMP,MAAO,IAAMqB,oBAAmB,CAAG,QAAtBA,oBAAsB,CAACrB,IAAD,CAAU,CACzC,MAAO,CACHW,IAAI,CAAEhB,SAAS,CAAC2B,qBADb,CAEHtB,IAAI,CAAEA,IAFH,CAAP,CAIH,CALM"},"metadata":{},"sourceType":"module"}