{"ast":null,"code":"var _jsxFileName = \"E:\\\\SourceDoAn\\\\ecomResource\\\\ecomResource\\\\eCommerce_Reactjs\\\\src\\\\container\\\\Home\\\\HomePage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport HomeBanner from \"../../component/HomeFeature/HomeBanner\";\nimport MainFeature from \"../../component/HomeFeature/MainFeature\";\nimport ProductFeature from \"../../component/HomeFeature/ProductFeature\";\nimport NewProductFeature from \"../../component/HomeFeature/NewProductFeature\";\nimport HomeBlog from '../../component/HomeFeature/HomeBlog';\nimport { getAllBanner, getProductFeatureService, getProductNewService, getNewBlog, getProductRecommendService } from '../../services/userService';\nimport Slider from 'react-slick';\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport { Spinner } from 'react-bootstrap';\nimport './HomePage.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction HomePage(props) {\n  _s();\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [dataProductFeature, setDataProductFeature] = useState([]);\n  const [dataNewProductFeature, setNewProductFeature] = useState([]);\n  const [dataNewBlog, setdataNewBlog] = useState([]);\n  const [dataBanner, setdataBanner] = useState([]);\n  const [dataProductRecommend, setdataProductRecommend] = useState([]);\n  let settings = {\n    dots: false,\n    Infinity: false,\n    speed: 500,\n    slidesToShow: 1,\n    slidesToScroll: 1,\n    autoplaySpeed: 2000,\n    autoplay: true,\n    cssEase: \"linear\"\n  };\n  useEffect(() => {\n    const userData = JSON.parse(localStorage.getItem('userData'));\n    setIsLoading(true); // Start loading\n\n    const fetchAllData = async () => {\n      if (userData) {\n        await fetchProductRecommend(userData.id);\n      }\n\n      await Promise.all([fetchBlogFeature(), fetchDataBrand(), fetchProductFeature() // fetchProductNew()\n      ]);\n      setIsLoading(false); // End loading after all fetches\n    };\n\n    fetchAllData();\n    window.scrollTo(0, 0);\n  }, []);\n\n  let fetchBlogFeature = async () => {\n    let res = await getNewBlog(3);\n\n    if (res && res.errCode === 0) {\n      setdataNewBlog(res.data);\n    }\n  };\n\n  let fetchProductFeature = async () => {\n    let res = await getProductFeatureService(6);\n\n    if (res && res.errCode === 0) {\n      setDataProductFeature(res.data);\n    }\n  };\n\n  let fetchProductRecommend = async userId => {\n    let res = await getProductRecommendService({\n      limit: 20,\n      userId: userId\n    });\n\n    if (res && res.errCode === 0) {\n      setdataProductRecommend(res.data);\n    }\n  };\n\n  let fetchDataBrand = async () => {\n    let res = await getAllBanner({\n      limit: 6,\n      offset: 0,\n      keyword: ''\n    });\n\n    if (res && res.errCode === 0) {\n      setdataBanner(res.data);\n    }\n  };\n\n  let fetchProductNew = async () => {\n    let res = await getProductNewService(8);\n\n    if (res && res.errCode === 0) {\n      setNewProductFeature(res.data);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Slider, { ...settings,\n      children: dataBanner && dataBanner.length > 0 && dataBanner.map((item, index) => {\n        return /*#__PURE__*/_jsxDEV(HomeBanner, {\n          image: item.image,\n          name: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 29\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MainFeature, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ProductFeature, {\n      title: \"Gợi ý sản phẩm\",\n      data: dataProductRecommend\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ProductFeature, {\n      title: \"Sản phẩm đặc trưng\",\n      data: dataProductFeature\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(NewProductFeature, {\n      title: \"S\\u1EA3n ph\\u1EA9m m\\u1EDBi\",\n      description: \"Nh\\u1EEFng s\\u1EA3n ph\\u1EA9m v\\u1EEBa ra m\\u1EAFt m\\u1EDBi l\\u1EA1 cu\\u1ED1n h\\xFAt ng\\u01B0\\u1EDDi xem\",\n      data: dataNewProductFeature\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(HomeBlog, {\n      data: dataNewBlog\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-overlay\",\n      children: /*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\",\n        variant: \"success\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 9\n  }, this);\n}\n\n_s(HomePage, \"LG+AiuYeauCdKhLacWk/W5AI1iQ=\");\n\n_c = HomePage;\nexport default HomePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useState","useEffect","useContext","HomeBanner","MainFeature","ProductFeature","NewProductFeature","HomeBlog","getAllBanner","getProductFeatureService","getProductNewService","getNewBlog","getProductRecommendService","Slider","Spinner","HomePage","props","isLoading","setIsLoading","dataProductFeature","setDataProductFeature","dataNewProductFeature","setNewProductFeature","dataNewBlog","setdataNewBlog","dataBanner","setdataBanner","dataProductRecommend","setdataProductRecommend","settings","dots","Infinity","speed","slidesToShow","slidesToScroll","autoplaySpeed","autoplay","cssEase","userData","JSON","parse","localStorage","getItem","fetchAllData","fetchProductRecommend","id","Promise","all","fetchBlogFeature","fetchDataBrand","fetchProductFeature","window","scrollTo","res","errCode","data","userId","limit","offset","keyword","fetchProductNew","length","map","item","index","image","name"],"sources":["E:/SourceDoAn/ecomResource/ecomResource/eCommerce_Reactjs/src/container/Home/HomePage.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport HomeBanner from \"../../component/HomeFeature/HomeBanner\";\r\nimport MainFeature from \"../../component/HomeFeature/MainFeature\";\r\nimport ProductFeature from \"../../component/HomeFeature/ProductFeature\";\r\nimport NewProductFeature from \"../../component/HomeFeature/NewProductFeature\"\r\nimport HomeBlog from '../../component/HomeFeature/HomeBlog';\r\nimport { getAllBanner, getProductFeatureService, getProductNewService, getNewBlog, getProductRecommendService } from '../../services/userService';\r\nimport Slider from 'react-slick';\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport { Spinner } from 'react-bootstrap';\r\nimport './HomePage.scss'\r\nfunction HomePage(props) {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [dataProductFeature, setDataProductFeature] = useState([])\r\n    const [dataNewProductFeature, setNewProductFeature] = useState([])\r\n    const [dataNewBlog, setdataNewBlog] = useState([])\r\n    const [dataBanner, setdataBanner] = useState([])\r\n    const [dataProductRecommend, setdataProductRecommend] = useState([])\r\n    let settings = {\r\n        dots: false,\r\n        Infinity: false,\r\n        speed: 500,\r\n        slidesToShow: 1,\r\n        slidesToScroll: 1,\r\n        autoplaySpeed: 2000,\r\n        autoplay: true,\r\n        cssEase: \"linear\"\r\n    }\r\n\r\n    useEffect(() => {\r\n        const userData = JSON.parse(localStorage.getItem('userData'));\r\n        setIsLoading(true); // Start loading\r\n    \r\n        const fetchAllData = async () => {\r\n            if (userData) {\r\n                await fetchProductRecommend(userData.id);\r\n            }\r\n            await Promise.all([\r\n                fetchBlogFeature(),\r\n                fetchDataBrand(),\r\n                fetchProductFeature(),\r\n                // fetchProductNew()\r\n            ]);\r\n            setIsLoading(false); // End loading after all fetches\r\n        };\r\n    \r\n        fetchAllData();\r\n        window.scrollTo(0, 0);\r\n    }, []);\r\n    let fetchBlogFeature = async () => {\r\n        let res = await getNewBlog(3)\r\n        if (res && res.errCode === 0) {\r\n            setdataNewBlog(res.data)\r\n        }\r\n    }\r\n    let fetchProductFeature = async () => {\r\n        let res = await getProductFeatureService(6)\r\n        if (res && res.errCode === 0) {\r\n            setDataProductFeature(res.data)\r\n        }\r\n    }\r\n    let fetchProductRecommend = async (userId) => {\r\n        let res = await getProductRecommendService({\r\n            limit: 20,\r\n            userId: userId\r\n        })\r\n        if (res && res.errCode === 0) {\r\n            setdataProductRecommend(res.data)\r\n        }\r\n    }\r\n    let fetchDataBrand = async () => {\r\n        let res = await getAllBanner({\r\n            limit: 6,\r\n            offset: 0,\r\n            keyword: ''\r\n        })\r\n        if (res && res.errCode === 0) {\r\n            setdataBanner(res.data)\r\n        }\r\n    }\r\n    let fetchProductNew = async () => {\r\n        let res = await getProductNewService(8)\r\n        if (res && res.errCode === 0) {\r\n            setNewProductFeature(res.data)\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            <Slider {...settings}>\r\n                {dataBanner && dataBanner.length > 0 &&\r\n                    dataBanner.map((item, index) => {\r\n                        return (\r\n                            <HomeBanner image={item.image} name={item.name}></HomeBanner>\r\n                        )\r\n                    })\r\n                }\r\n\r\n\r\n            </Slider>\r\n\r\n\r\n            <MainFeature></MainFeature>\r\n            <ProductFeature title={\"Gợi ý sản phẩm\"} data={dataProductRecommend}></ProductFeature>\r\n            <ProductFeature title={\"Sản phẩm đặc trưng\"} data={dataProductFeature}></ProductFeature>\r\n            <NewProductFeature title=\"Sản phẩm mới\" description=\"Những sản phẩm vừa ra mắt mới lạ cuốn hút người xem\" data={dataNewProductFeature}></NewProductFeature>\r\n            <HomeBlog data={dataNewBlog} />\r\n            {isLoading && (\r\n                <div className=\"loading-overlay\">\r\n                    <Spinner animation=\"border\" variant=\"success\" />\r\n                </div>\r\n      )}\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default HomePage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}