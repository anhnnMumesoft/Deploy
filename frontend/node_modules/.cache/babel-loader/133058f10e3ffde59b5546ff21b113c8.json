{"ast":null,"code":"import _regeneratorRuntime from\"E:/TestDeploy/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/TestDeploy/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"E:/TestDeploy/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"E:/TestDeploy/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"E:/TestDeploy/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useEffect,useState}from'react';import CommonUtils from'../../../../utils/CommonUtils';import moment from'moment';import{toast}from'react-toastify';import Lightbox from'react-image-lightbox';import'react-image-lightbox/style.css';import{useFetchAllcode}from'../../../customize/fetch';import{Modal,ModalHeader,ModalFooter,ModalBody,Button}from'reactstrap';import{getProductDetailSizeByIdService}from'../../../../services/userService';import{BrowserRouter as Router,Switch,Route,Link,Redirect,useParams}from\"react-router-dom\";import LoadingSpinner from'../../../../component/Spinner/LoadingSpinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddSizeModal=function AddSizeModal(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useFetchAllcode=useFetchAllcode('SIZE'),dataSize=_useFetchAllcode.data;var _useState3=useState({sizeId:'',width:'',height:'',isActionUpdate:false,id:'',weight:''}),_useState4=_slicedToArray(_useState3,2),inputValues=_useState4[0],setInputValues=_useState4[1];var handleOnChange=function handleOnChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setInputValues(_objectSpread(_objectSpread({},inputValues),{},_defineProperty({},name,value)));};if(dataSize&&dataSize.length>0&&inputValues.sizeId===''){setInputValues(_objectSpread(_objectSpread({},inputValues),{},_defineProperty({},\"sizeId\",dataSize[0].code)));}useEffect(function(){var id=props.productSizeId;if(id){var fetchDetailProductSize=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,_objectSpread4;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);// Start loading\n_context.next=3;return getProductDetailSizeByIdService(id);case 3:res=_context.sent;setIsLoading(false);// End loading after all fetches\nif(res&&res.errCode===0){setInputValues(_objectSpread(_objectSpread({},inputValues),{},(_objectSpread4={},_defineProperty(_objectSpread4,\"isActionUpdate\",true),_defineProperty(_objectSpread4,\"sizeId\",res.data.sizeId),_defineProperty(_objectSpread4,\"width\",res.data.width),_defineProperty(_objectSpread4,\"height\",res.data.height),_defineProperty(_objectSpread4,\"weight\",res.data.weight),_objectSpread4)));}case 6:case\"end\":return _context.stop();}}},_callee);}));return function fetchDetailProductSize(){return _ref.apply(this,arguments);};}();fetchDetailProductSize();}},[props.isOpenModal]);var handleSaveInfor=function handleSaveInfor(){var _objectSpread5;props.sendDataFromModalSize({sizeId:inputValues.sizeId,width:inputValues.width,height:inputValues.height,isActionUpdate:inputValues.isActionUpdate,id:props.productSizeId,weight:inputValues.weight});setInputValues(_objectSpread(_objectSpread({},inputValues),{},(_objectSpread5={},_defineProperty(_objectSpread5,\"sizeId\",''),_defineProperty(_objectSpread5,\"width\",''),_defineProperty(_objectSpread5,\"height\",''),_defineProperty(_objectSpread5,\"weight\",''),_defineProperty(_objectSpread5,\"isActionUpdate\",false),_objectSpread5)));};var handleCloseModal=function handleCloseModal(){var _objectSpread6;props.closeModal();setInputValues(_objectSpread(_objectSpread({},inputValues),{},(_objectSpread6={},_defineProperty(_objectSpread6,\"sizeId\",''),_defineProperty(_objectSpread6,\"width\",''),_defineProperty(_objectSpread6,\"height\",''),_defineProperty(_objectSpread6,\"weight\",''),_defineProperty(_objectSpread6,\"isActionUpdate\",false),_objectSpread6)));};return/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[isLoading&&/*#__PURE__*/_jsx(LoadingSpinner,{}),/*#__PURE__*/_jsxs(Modal,{isOpen:props.isOpenModal,className:'booking-modal-container',size:\"md\",centered:true,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",children:\"Th\\xEAm k\\xEDch th\\u01B0\\u1EDBc chi ti\\u1EBFt s\\u1EA3n ph\\u1EA9m\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCloseModal,type:\"button\",className:\"btn btn-time\",\"aria-label\":\"Close\",children:\"X\"})]}),/*#__PURE__*/_jsx(ModalBody,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"K\\xEDch th\\u01B0\\u1EDBc\"}),/*#__PURE__*/_jsx(\"select\",{value:inputValues.sizeId,name:\"sizeId\",onChange:function onChange(event){return handleOnChange(event);},id:\"inputState\",className:\"form-control\",children:dataSize&&dataSize.length>0&&dataSize.map(function(item,index){return/*#__PURE__*/_jsx(\"option\",{value:item.code,children:item.value},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Chi\\u1EC1u r\\u1ED9ng\"}),/*#__PURE__*/_jsx(\"input\",{value:inputValues.width,name:\"width\",onChange:function onChange(event){return handleOnChange(event);},type:\"text\",className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Chi\\u1EC1u d\\xE0i\"}),/*#__PURE__*/_jsx(\"input\",{value:inputValues.height,name:\"height\",onChange:function onChange(event){return handleOnChange(event);},type:\"text\",className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Kh\\u1ED1i l\\u01B0\\u1EE3ng\"}),/*#__PURE__*/_jsx(\"input\",{value:inputValues.weight,name:\"weight\",onChange:function onChange(event){return handleOnChange(event);},type:\"text\",className:\"form-control\"})]})]})}),/*#__PURE__*/_jsxs(ModalFooter,{children:[/*#__PURE__*/_jsx(Button,{color:\"primary\",onClick:handleSaveInfor,children:\"L\\u01B0u th\\xF4ng tin\"}),' ',/*#__PURE__*/_jsx(Button,{onClick:handleCloseModal,children:\"H\\u1EE7y\"})]})]})]});};export default AddSizeModal;","map":{"version":3,"names":["React","useEffect","useState","CommonUtils","moment","toast","Lightbox","useFetchAllcode","Modal","ModalHeader","ModalFooter","ModalBody","Button","getProductDetailSizeByIdService","BrowserRouter","Router","Switch","Route","Link","Redirect","useParams","LoadingSpinner","AddSizeModal","props","isLoading","setIsLoading","dataSize","data","sizeId","width","height","isActionUpdate","id","weight","inputValues","setInputValues","handleOnChange","event","target","name","value","length","code","productSizeId","fetchDetailProductSize","res","errCode","isOpenModal","handleSaveInfor","sendDataFromModalSize","handleCloseModal","closeModal","map","item","index"],"sources":["E:/TestDeploy/frontend/src/container/System/Product/ProductImage/AddSizeModal.js"],"sourcesContent":["import React from 'react';\r\nimport { useEffect, useState } from 'react';\r\nimport CommonUtils from '../../../../utils/CommonUtils';\r\nimport moment from 'moment';\r\nimport { toast } from 'react-toastify';\r\nimport Lightbox from 'react-image-lightbox';\r\nimport 'react-image-lightbox/style.css';\r\nimport { useFetchAllcode } from '../../../customize/fetch';\r\nimport { Modal, ModalHeader, ModalFooter, ModalBody, Button } from 'reactstrap';\r\nimport { getProductDetailSizeByIdService } from '../../../../services/userService';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    Redirect,\r\n    useParams\r\n} from \"react-router-dom\";\r\nimport LoadingSpinner from '../../../../component/Spinner/LoadingSpinner';\r\n\r\n\r\nconst AddSizeModal = (props) => {\r\n\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const { data: dataSize } = useFetchAllcode('SIZE')\r\n    const [inputValues, setInputValues] = useState({\r\n        sizeId: '', width: '', height: '', isActionUpdate: false, id: '', weight: ''\r\n    });\r\n    const handleOnChange = event => {\r\n        const { name, value } = event.target;\r\n        setInputValues({ ...inputValues, [name]: value });\r\n\r\n    };\r\n    if (dataSize && dataSize.length > 0 && inputValues.sizeId === '') {\r\n\r\n        setInputValues({ ...inputValues, [\"sizeId\"]: dataSize[0].code })\r\n    }\r\n    useEffect(() => {\r\n        let id = props.productSizeId\r\n\r\n        if (id) {\r\n            let fetchDetailProductSize = async () => {\r\n                setIsLoading(true); // Start loading\r\n                let res = await getProductDetailSizeByIdService(id)\r\n                setIsLoading(false); // End loading after all fetches\r\n                if (res && res.errCode === 0) {\r\n                    setInputValues({\r\n                        ...inputValues, [\"isActionUpdate\"]: true, [\"sizeId\"]: res.data.sizeId, [\"width\"]: res.data.width,\r\n                        [\"height\"]: res.data.height,  [\"weight\"]: res.data.weight\r\n                    })\r\n\r\n                }\r\n            }\r\n            fetchDetailProductSize()\r\n        }\r\n    }, [props.isOpenModal])\r\n    let handleSaveInfor = () => {\r\n        props.sendDataFromModalSize({\r\n            sizeId: inputValues.sizeId,\r\n         \r\n            width: inputValues.width,\r\n            height: inputValues.height,\r\n            isActionUpdate: inputValues.isActionUpdate,\r\n            id: props.productSizeId,\r\n            weight: inputValues.weight\r\n        })\r\n        setInputValues({ ...inputValues, [\"sizeId\"]: '',  [\"width\"]: '', [\"height\"]: '', [\"weight\"]: '', [\"isActionUpdate\"]: false })\r\n    }\r\n    let handleCloseModal = () => {\r\n        props.closeModal()\r\n        setInputValues({ ...inputValues, [\"sizeId\"]: '', [\"width\"]: '', [\"height\"]: '', [\"weight\"]: '', [\"isActionUpdate\"]: false })\r\n\r\n    }\r\n    return (\r\n        <div className=\"\">\r\n         {isLoading && <LoadingSpinner />}\r\n            <Modal isOpen={props.isOpenModal} className={'booking-modal-container'}\r\n                size=\"md\" centered\r\n            >\r\n                <div className=\"modal-header\">\r\n                    <h5 className=\"modal-title\">Thêm kích thước chi tiết sản phẩm</h5>\r\n                    <button onClick={handleCloseModal} type=\"button\" className=\"btn btn-time\" aria-label=\"Close\">X</button>\r\n                </div>\r\n                <ModalBody>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12 form-group\">\r\n                            <label>Kích thước</label>\r\n                            <select value={inputValues.sizeId} name=\"sizeId\" onChange={(event) => handleOnChange(event)} id=\"inputState\" className=\"form-control\">\r\n                                {dataSize && dataSize.length > 0 &&\r\n                                    dataSize.map((item, index) => {\r\n                                        return (\r\n                                            <option key={index} value={item.code}>{item.value}</option>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </select>\r\n                        </div>\r\n                        <div className=\"col-12 form-group\">\r\n                            <label>Chiều rộng</label>\r\n                            <input value={inputValues.width} name=\"width\" onChange={(event) => handleOnChange(event)} type=\"text\" className=\"form-control\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"col-12 form-group\">\r\n                            <label>Chiều dài</label>\r\n                            <input value={inputValues.height} name=\"height\" onChange={(event) => handleOnChange(event)} type=\"text\" className=\"form-control\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"col-12 form-group\">\r\n                            <label>Khối lượng</label>\r\n                            <input value={inputValues.weight} name=\"weight\" onChange={(event) => handleOnChange(event)} type=\"text\" className=\"form-control\"\r\n                            />\r\n                        </div>\r\n                        \r\n                    </div>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <Button\r\n                        color=\"primary\"\r\n                        onClick={handleSaveInfor}\r\n                    >\r\n                        Lưu thông tin\r\n                    </Button>\r\n                    {' '}\r\n                    <Button onClick={handleCloseModal}>\r\n                        Hủy\r\n                    </Button>\r\n                </ModalFooter>\r\n            </Modal>\r\n\r\n        </div >\r\n    )\r\n}\r\nexport default AddSizeModal;"],"mappings":"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"},"metadata":{},"sourceType":"module"}